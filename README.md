# 一个登录Suda网关的自动化脚本

## 环境需求

基于 requests 实现

完整的 requirements.txt 也放在项目中了,要装的其实就俩

```bash
pip install requests toml
```

## 食用方法

- 可以把账号密码硬修改进代码里，然后运行即可
- 否则默认使用 toml 配置文件, 放在这个py脚本同一个目录下 (toml为了自动化配置方便)

```toml
# 一个toml文件示例 如果是修改代码则也是修改对应的
gateway = '10.9.1.3:801/eportal' # 本校一般不用改
account = "2227406666" # 改成你的学号
pswd = "yuan is god" # 改成你的密码
vendor = "中国电信" # 改成自己的运营商 一定要完全对应网关提供的选项。(例如"电信"就是不行的,其实就是对于那个常量列表)
```

自动登录脚本会有一些提示输出，只要没有配置错误返回值都是 0
配合 corntab 之类应该比较爽

## 闲谈

这个比较适合一台机器需要长时间挂在学校里，但是有时候网又会莫名其妙给你下线，或者是你不小心注销后，导致无法访问公网同时又不知道局域网IP(有时候会变化，尤其是使用WIFI的情况下)导致无法访问的情况。

相比于之前的 Selenium 版本，这个版本需要的依赖项更轻，更接近底层原理。

如果有好的改进想法欢迎各位大佬提供~ 没有测试过所有可能情况,有BUG也欢迎大家提!我菜菜轻喷QAQ

猜猜那个 $\mathfrak{G}\mathfrak{O}\mathfrak{D}$ 的 $\mathfrak{Y} \mathfrak{U} \mathfrak{A} \mathfrak{N}$ 是谁 AWA

## 代办

- [x] 之后会准备再写一个自动注销来搭配做切换账号。
- [x] 登录注销的实质应该是发一个POST请求之类的(猜的)，看看能不能获取请求的格式然后直接发就好了，不用在浏览器上自动化操作

## 更新日志

- 2025-3-23 添加了logout脚本
- 2025-3-23 写完了基于http的实现版本
- 2025-3-1  给了一个 shell 的脚本
- 2025-3-1  更新了自动注销脚本，使得多次尝试尽可能地断联，而不是一次就不尝试了
- 2025-2-28 完成了自动注销脚本，并且为两个脚本增加了返回值判断执行状态
